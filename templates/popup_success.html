<!-- templates/popup_success.html -->
<div id="popup-success" class="popup-message" style="display: none;">
    {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
            {% for category, message in messages %}
                {% if category == 'success' %}
                    {{ message }}
                {% endif %}
            {% endfor %}
        {% endif %}
    {% endwith %}
</div>

<style>
    .popup-message {
        position: fixed;
        top: 20px;
        right: 20px;
        width: 300px;
        padding: 15px;
        background-color: #28a745;
        color: white;
        border-radius: 8px;
        box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.2);
        z-index: 1000;
        font-size: 16px;
        animation: fadeInOut 5s ease forwards;
    }

    @keyframes fadeInOut {
        0% { opacity: 0; transform: translateY(-10px); }
        10% { opacity: 1; transform: translateY(0); }
        90% { opacity: 1; }
        100% { opacity: 0; transform: translateY(-10px); }
    }
</style>

<script>
    document.addEventListener("DOMContentLoaded", function() {
        const popup = document.getElementById("popup-success");
        if (popup && popup.textContent.trim() !== "") {
            popup.style.display = "block";
            setTimeout(() => { popup.style.display = "none"; }, 5000);
        }
    });
</script>
